<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>news</title>
	<style>
		.container {
			width: 900px;
			margin: 0 auto;
		}
	</style>
</head>

<body>
	<div class="container">
		<button class="change">点我跨域</button>
	</div>
	<script>
		var btn = document.querySelector('.change');
		var ul = document.querySelector('.news');

		btn.addEventListener('click', function (e) {
			e.preventDefault();
			var xhr = new XMLHttpRequest();
			xhr.onreadystatechange = function() {
				if (xhr.readyState === 4) {
					if (xhr.status === 200 || xhr.status === 304) {
						var res = JSON.parse(xhr.responseText);
						showMessage(res.msg);
					} else {
						alert('error');
					}
				}
			}
			xhr.open('get', 'http://b.example.com:8080/getMsg', true);
			xhr.send();
		});

		function showMessage(msg) {
			alert(msg);
		}
	</script>

</html>